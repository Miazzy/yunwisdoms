module.exports=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=7)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SuggestManager}),__webpack_require__.d(__webpack_exports__,"b",function(){return SearchManager});var __WEBPACK_IMPORTED_MODULE_0__ElasticManager__=__webpack_require__(6),SuggestManager=new __WEBPACK_IMPORTED_MODULE_0__ElasticManager__.a,SearchManager=new __WEBPACK_IMPORTED_MODULE_0__ElasticManager__.a},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"UPDATE_QUERY",function(){return UPDATE_QUERY}),__webpack_require__.d(__webpack_exports__,"SUGGEST_REQUEST",function(){return SUGGEST_REQUEST}),__webpack_require__.d(__webpack_exports__,"SUGGEST_SUCCESS",function(){return SUGGEST_SUCCESS}),__webpack_require__.d(__webpack_exports__,"SUGGEST_FAILURE",function(){return SUGGEST_FAILURE}),__webpack_require__.d(__webpack_exports__,"RESET_HITS",function(){return RESET_HITS}),__webpack_require__.d(__webpack_exports__,"UPDATE_KEYWORD",function(){return UPDATE_KEYWORD}),__webpack_require__.d(__webpack_exports__,"UPDAET_PAGE_SIZE",function(){return UPDAET_PAGE_SIZE}),__webpack_require__.d(__webpack_exports__,"UPDATE_QUERY_TYPE",function(){return UPDATE_QUERY_TYPE}),__webpack_require__.d(__webpack_exports__,"UPDATE_QUERY_AGGS",function(){return UPDATE_QUERY_AGGS}),__webpack_require__.d(__webpack_exports__,"SEARCH_REQUEST",function(){return SEARCH_REQUEST}),__webpack_require__.d(__webpack_exports__,"SEARCH_SUCCESS",function(){return SEARCH_SUCCESS}),__webpack_require__.d(__webpack_exports__,"SEARCH_FAILURE",function(){return SEARCH_FAILURE});var UPDATE_QUERY="UPDATE_QUERY",SUGGEST_REQUEST="SUGGEST_REQUEST",SUGGEST_SUCCESS="SUGGEST_SUCCESS",SUGGEST_FAILURE="SUGGEST_FAILURE",RESET_HITS="RESET_HITS",UPDATE_KEYWORD="UPDATE_KEYWORD",UPDAET_PAGE_SIZE="UPDATE_PAGE_SIZE",UPDATE_QUERY_TYPE="UPDATE_QUERY_TYPE",UPDATE_QUERY_AGGS="UPDATE_QUERY_AGGS",SEARCH_REQUEST="SEARCH_REQUEST",SEARCH_SUCCESS="SEARCH_SUCCESS",SEARCH_FAILURE="SEARCH_FAILURE"},function(module,exports){module.exports=function(rawScriptExports,compiledTemplate,scopeId,cssModules){var esModule,scriptExports=rawScriptExports=rawScriptExports||{},type=typeof rawScriptExports.default;"object"!==type&&"function"!==type||(esModule=rawScriptExports,scriptExports=rawScriptExports.default);var options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(compiledTemplate&&(options.render=compiledTemplate.render,options.staticRenderFns=compiledTemplate.staticRenderFns),scopeId&&(options._scopeId=scopeId),cssModules){var computed=options.computed||(options.computed={});Object.keys(cssModules).forEach(function(key){var module=cssModules[key];computed[key]=function(){return module}})}return{esModule:esModule,exports:scriptExports,options:options}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__actions__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_1__getters__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__actions__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__modules_search__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__getters__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__modules_suggest__=__webpack_require__(11);__webpack_exports__.a={namespaced:!0,actions:__WEBPACK_IMPORTED_MODULE_0__actions__,getters:__WEBPACK_IMPORTED_MODULE_1__getters__,modules:{suggest:__WEBPACK_IMPORTED_MODULE_3__modules_suggest__.a,search:__WEBPACK_IMPORTED_MODULE_2__modules_search__.a}}},function(module,exports,__webpack_require__){__webpack_require__(15);var Component=__webpack_require__(2)(__webpack_require__(12),__webpack_require__(17),"data-v-81599be4",null);module.exports=Component.exports},function(module,exports,__webpack_require__){__webpack_require__(14);var Component=__webpack_require__(2)(__webpack_require__(13),__webpack_require__(16),"data-v-609ccf38",null);module.exports=Component.exports},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(__webpack_exports__,"a",function(){return ElasticManager});var __WEBPACK_IMPORTED_MODULE_0_elasticsearch__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_0_elasticsearch___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_elasticsearch__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ElasticManager=function(){function ElasticManager(){_classCallCheck(this,ElasticManager),this.client=null,this.index="",this.type=""}return _createClass(ElasticManager,[{key:"configure",value:function(_ref){var host=_ref.host,index=_ref.index,type=_ref.type;this.client=__WEBPACK_IMPORTED_MODULE_0_elasticsearch___default.a.Client({host:host,log:"error"}),this.index=index,this.type=type}},{key:"suggest",value:function(query){return this.client?this.client.suggest({index:this.index,body:{keywordSuggester:{prefix:query,completion:{field:"text"}}}}).then(function(response){return response.keywordSuggester[0].options.map(function(option){return{text:option.text,score:option._score}})}):Promise.reject(new Error("Search client is not configured"))}},{key:"search",value:function(keyword){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.client)return Promise.reject(new Error("Search client is not configured"));var defaultOptions={from:0,size:10,_source:!0,queryType:"terms"},searchOptions=_extends({},defaultOptions,options),query={};"terms"===searchOptions.queryType?query.terms={keywords:[keyword]}:"match"===searchOptions.queryType&&(query.match={keywords:keyword});var params={index:this.index,type:this.type,body:{query:query,_source:searchOptions._source,aggs:searchOptions.queryAggs},from:searchOptions.from,size:searchOptions.size};return this.client.search(params).then(function(response){return{query:params,response:response}})}}]),ElasticManager}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function install(Vue,_ref){var suggest=_ref.suggest,search=_ref.search;__WEBPACK_IMPORTED_MODULE_0__api__.a.configure(suggest),__WEBPACK_IMPORTED_MODULE_0__api__.b.configure(search),Vue.component("vueElasticAutocomplete",__WEBPACK_IMPORTED_MODULE_3__components_VueElasticAutocomplete_vue___default.a),Vue.component("vueElasticResultBox",__WEBPACK_IMPORTED_MODULE_4__components_VueElasticResultBox_vue___default.a)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.install=install;var __WEBPACK_IMPORTED_MODULE_0__api__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__store__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__store_mutation_types__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_3__components_VueElasticAutocomplete_vue__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_3__components_VueElasticAutocomplete_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_VueElasticAutocomplete_vue__),__WEBPACK_IMPORTED_MODULE_4__components_VueElasticResultBox_vue__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_4__components_VueElasticResultBox_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_VueElasticResultBox_vue__);__webpack_require__.d(__webpack_exports__,"VueElasticStore",function(){return __WEBPACK_IMPORTED_MODULE_1__store__.a}),__webpack_require__.d(__webpack_exports__,"VueElasticAutocomplete",function(){return __WEBPACK_IMPORTED_MODULE_3__components_VueElasticAutocomplete_vue___default.a}),__webpack_require__.d(__webpack_exports__,"VueElasticResultBox",function(){return __WEBPACK_IMPORTED_MODULE_4__components_VueElasticResultBox_vue___default.a}),__webpack_require__.d(__webpack_exports__,"MutationTypes",function(){return __WEBPACK_IMPORTED_MODULE_2__store_mutation_types__});var plugin={version:"1.0.3-rc3",install:install};__webpack_exports__.default=plugin;var GlobalVue=null;"undefined"!=typeof window?GlobalVue=window.Vue:"undefined"!=typeof global&&(GlobalVue=global.Vue),GlobalVue&&GlobalVue.use(plugin)},function(module,exports){},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__api__=__webpack_require__(0),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},state={keyword:"",queryType:"terms",queryAggs:null,fetching:!1,total:0,pageSize:10,hasNext:!0,hits:[],aggs:null,query:{},error:null},getters={keyword:function(state){return state.keyword},queryType:function(state){return state.queryType},queryAggs:function(state){return state.queryAggs},fetching:function(state){return state.fetching},total:function(state){return state.total},page:function(state){return Math.floor(state.hits.length/state.pageSize)+1},pageSize:function(state){return state.pageSize},hasNext:function(state){return state.hasNext},hits:function(state){return state.hits},aggs:function(state){return state.aggs},query:function(state){return state.query},error:function(state){return state.error}},mutations=(_mutations={},_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.RESET_HITS,function(state){state.fetching=!1,state.query={},state.total=0,state.hasNext=!0,state.hits=[],state.aggs=null}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.UPDATE_KEYWORD,function(state,keyword){state.keyword=keyword}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.UPDATE_PAGE_SIZE,function(state,pageSize){state.pageSize=pageSize}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.UPDATE_QUERY_TYPE,function(state,queryType){state.queryType=queryType}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.UPDATE_QUERY_AGGS,function(state,queryAggs){state.queryAggs=queryAggs}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SEARCH_REQUEST,function(state){state.fetching=!0}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SEARCH_SUCCESS,function(state,_ref){var query=_ref.query,response=_ref.response;state.fetching=!1,state.query=query,state.total=response.hits.total,response.hits.hits.length>0&&(state.hits=state.hits.concat(response.hits.hits),state.hasNext=response.hits.hits.length===state.pageSize),state.aggs=response.aggregations}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SEARCH_FAILURE,function(state,error){state.fetching=!1,state.error=error}),_mutations),actions={fetchHits:function(_ref2,_ref3){var commit=_ref2.commit,state=_ref2.state,reset=_ref3.reset,options=_ref3.options;reset&&commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.RESET_HITS),state.hasNext&&(commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SEARCH_REQUEST),__WEBPACK_IMPORTED_MODULE_1__api__.b.search(state.keyword,_extends({},options,{from:state.hits.length,size:state.pageSize,queryType:state.queryType,queryAggs:state.queryAggs})).then(function(_ref4){var query=_ref4.query,response=_ref4.response;commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SEARCH_SUCCESS,{query:query,response:response})}).catch(function(error){commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SEARCH_FAILURE,error)}))}};__webpack_exports__.a={namespaced:!0,state:state,getters:getters,mutations:mutations,actions:actions}},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__api__=__webpack_require__(0),state={query:"ok",fetching:!1,total:0,suggestions:[],error:null},getters={query:function(state){return state.query},fetching:function(state){return state.fetching},total:function(state){return state.total},suggestions:function(state){return state.suggestions},error:function(state){return state.error}},mutations=(_mutations={},_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.UPDATE_QUERY,function(state,query){state.query=query}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SUGGEST_REQUEST,function(state){state.fetching=!0}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SUGGEST_SUCCESS,function(state,suggestions){state.fetching=!1,state.suggestions=suggestions}),_defineProperty(_mutations,__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SUGGEST_FAILURE,function(state,error){state.fetching=!1,state.error=error}),_mutations),actions={fetchSuggestions:function(_ref,query){var commit=_ref.commit;_ref.state;commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.UPDATE_QUERY,query),commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SUGGEST_REQUEST),__WEBPACK_IMPORTED_MODULE_1__api__.a.suggest(query).then(function(suggestions){commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SUGGEST_SUCCESS,suggestions)}).catch(function(error){commit(__WEBPACK_IMPORTED_MODULE_0__mutation_types__.SUGGEST_FAILURE,error)})}};__webpack_exports__.a={namespaced:!0,state:state,getters:getters,mutations:mutations,actions:actions}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);__webpack_exports__.default={name:"VueElasticAutocomplete",props:{suggestions:{type:Array,default:function(){return[]}},inputClass:{type:String,default:"ve-autocomplete-input"},suggestionClass:{type:String,default:"ve-autocomplete-suggestion"}},data:function(){return{keyword:"",isTriggered:!1,activeSuggestion:0}},computed:{isOpen:function(){return this.isTriggered&&this.suggestions.length>0}},methods:{debouncedInput:__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.debounce(function(e){var value=e.target.value;this.activeSuggestion=0,this.isTriggered=!!value,value&&this.$emit("changed",value)},1e3),moveDown:function(){this.isOpen&&(this.activeSuggestion=(this.activeSuggestion+1)%this.suggestions.length)},moveUp:function(){this.isOpen&&(this.activeSuggestion=(this.activeSuggestion-1+this.suggestions.length)%this.suggestions.length)},select:function(){var selectedOption=this.suggestions[this.activeSuggestion];this.keyword=selectedOption.text,this.isTriggered=!1,this.$emit("selected",this.keyword)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.default={name:"VueElasticResultBox",props:{keyword:{type:String,default:""},fetching:{type:Boolean,default:!1},result:{type:Object,default:function(){}}}}},function(module,exports){},function(module,exports){},function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement;return(_vm._self._c||_h)("div",{staticClass:"ve-result-box"},[_vm._t("result-header",null,{keyword:_vm.keyword,fetching:_vm.fetching,result:_vm.result}),_vm._v(" "),_vm._t("result-content",null,{keyword:_vm.keyword,fetching:_vm.fetching,result:_vm.result})],2)},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"ve-autocomplete"},[_c("div",{staticClass:"ve-autocomplete-input-box"},[_vm._t("input-box-header"),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.keyword,expression:"keyword"}],class:[_vm.inputClass],attrs:{placeholder:"Search..."},domProps:{value:_vm.keyword},on:{input:[function($event){$event.target.composing||(_vm.keyword=$event.target.value)},_vm.debouncedInput],keyup:function($event){if(!("button"in $event)&&_vm._k($event.keyCode,"esc",27,$event.key))return null;_vm.isTriggered=!1},blur:function($event){_vm.isTriggered=!1},keydown:[function($event){if(!("button"in $event)&&_vm._k($event.keyCode,"down",40,$event.key))return null;_vm.moveDown($event)},function($event){if(!("button"in $event)&&_vm._k($event.keyCode,"up",38,$event.key))return null;_vm.moveUp($event)},function($event){if(!("button"in $event)&&_vm._k($event.keyCode,"enter",13,$event.key))return null;_vm.select($event)}]}}),_vm._v(" "),_vm._t("input-box-footer")],2),_vm._v(" "),_c("ul",{directives:[{name:"show",rawName:"v-show",value:_vm.isOpen,expression:"isOpen"}],staticClass:"ve-suggestions-list"},_vm._l(_vm.suggestions,function(suggestion,index){return _c("li",{key:index,class:(_obj={active:index===_vm.activeSuggestion},_obj[_vm.suggestionClass]=!0,_obj),on:{mouseenter:function($event){_vm.activeSuggestion=index},mousedown:_vm.select}},[_vm._t("suggestion",[_vm._v("\n        "+_vm._s(suggestion.text)+" "+_vm._s(suggestion.score)+"\n      ")],{suggestion:suggestion})],2);var _obj}))])},staticRenderFns:[]}},function(module,exports){module.exports=require("elasticsearch")},function(module,exports){module.exports=require("lodash")}]);