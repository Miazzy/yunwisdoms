(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e97ef"],{"8e7c":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职务编码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"['code', validatorRules.code]"}],attrs:{placeholder:"请输入职务编码"}})],1),t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职务名称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name]"}],attrs:{placeholder:"请输入职务名称"}})],1),t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职级"}},[t("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["postRank",e.validatorRules.postRank],expression:"['postRank', validatorRules.postRank]"}],attrs:{placeholder:"请选择职级",triggerChange:!0,dictCode:"position_rank"}})],1)],1)],1)],1)},s=[],i=t("0fea"),l=t("4ec3"),n=t("7b16"),r=null,c={name:"SysPositionModal",components:{JDictSelectTag:n["default"]},data:function(){var e=this;return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{code:{rules:[{required:!0,message:"请输入职务编码"},{validator:function(a,t,o){r&&clearTimeout(r),r=setTimeout((function(){Object(l["m"])({tableName:"sys_position",fieldName:"code",fieldVal:t,dataId:e.model.id}).then((function(e){e.success?o():o(e.message)})).catch(console.error)}),300)}}]},name:{rules:[{required:!0,message:"请输入职务名称"}]},postRank:{rules:[{required:!0,message:"请选择职级"}]}},url:{add:"/sys/position/add",edit:"/sys/position/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var a=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){a.form.setFieldsValue(pick(a.model,"code","name","postRank"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,a=this;this.form.validateFields((function(t,o){if(!t){a.confirmLoading=!0;var s="",l="";e.model.id?(s+=e.url.edit,l="put"):(s+=e.url.add,l="post");var n=Object.assign(e.model,o);Object(i["httpAction"])(s,n,l).then((function(e){e.success?(a.$message.success(e.message),a.$emit("ok")):a.$message.warning(e.message)})).finally((function(){a.confirmLoading=!1,a.close()}))}}))},handleCancel:function(){this.close()}}},d=c,m=t("2877"),u=Object(m["a"])(d,o,s,!1,null,"b6325af2",null);a["default"]=u.exports}}]);