(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b1af552"],{"261e":function(e,t,a){"use strict";var r=a("92fa"),i=a.n(r),o=a("6042"),n=a.n(o),s=a("41b2"),l=a.n(s),d=a("4d26"),u=a.n(d),p=a("0464"),c=a("6dd8"),m=a("c973"),h="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",b=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],f={},v=void 0;function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&f[a])return f[a];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),n=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=b.map((function(e){return e+":"+r.getPropertyValue(e)})).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:n,boxSizing:i};return t&&a&&(f[a]=l),l}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v||(v=document.createElement("textarea"),document.body.appendChild(v)),e.getAttribute("wrap")?v.setAttribute("wrap",e.getAttribute("wrap")):v.removeAttribute("wrap");var i=g(e,t),o=i.paddingSize,n=i.borderSize,s=i.boxSizing,l=i.sizingStyle;v.setAttribute("style",l+";"+h),v.value=e.value||e.placeholder||"";var d=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,p=v.scrollHeight,c=void 0;if("border-box"===s?p+=n:"content-box"===s&&(p-=o),null!==a||null!==r){v.value=" ";var m=v.scrollHeight-o;null!==a&&(d=m*a,"border-box"===s&&(d=d+o+n),p=Math.max(d,p)),null!==r&&(u=m*r,"border-box"===s&&(u=u+o+n),c=p>u?"":"hidden",p=Math.min(u,p))}return r||(c="hidden"),{height:p+"px",minHeight:d+"px",maxHeight:u+"px",overflowY:c}}var w=a("daa3"),C=a("4df5");function y(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function z(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}function A(e){return"undefined"===typeof e||null===e?"":e}function O(){}t["a"]={name:"ATextarea",model:{prop:"value",event:"change.value"},props:l()({},m["a"],{autosize:[Object,Boolean]}),inject:{configProvider:{default:function(){return C["a"]}}},data:function(){var e=this.$props,t=e.value,a=void 0===t?"":t,r=e.defaultValue,i=void 0===r?"":r;return{stateValue:A(Object(w["b"])(this,"value")?a:i),nextFrameActionId:void 0,textareaStyles:{}}},computed:{},watch:{value:function(e){var t=this;this.$nextTick((function(){t.resizeOnNextFrame()})),this.stateValue=A(e)},autosize:function(e){!e&&this.$refs.textArea&&(this.textareaStyles=Object(p["a"])(this.textareaStyles,["overflowY"]))}},mounted:function(){var e=this;this.$nextTick((function(){e.resizeTextarea(),e.updateResizeObserverHook(),e.autoFocus&&e.focus()}))},updated:function(){this.updateResizeObserverHook()},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.disconnect()},methods:{resizeOnNextFrame:function(){this.nextFrameActionId&&z(this.nextFrameActionId),this.nextFrameActionId=y(this.resizeTextarea)},updateResizeObserverHook:function(){!this.resizeObserver&&this.$props.autosize?(this.resizeObserver=new c["a"](this.resizeOnNextFrame),this.resizeObserver.observe(this.$refs.textArea)):this.resizeObserver&&!this.$props.autosize&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},handleKeyDown:function(e){13===e.keyCode&&this.$emit("pressEnter",e),this.$emit("keydown",e)},resizeTextarea:function(){var e=this.$props.autosize;if(e&&this.$refs.textArea){var t=e.minRows,a=e.maxRows,r=x(this.$refs.textArea,!1,t,a);this.textareaStyles=r}},handleTextareaChange:function(e){var t=e.target,a=t.value,r=t.composing;r||this.stateValue===a||(Object(w["b"])(this,"value")?this.$forceUpdate():(this.stateValue=a,this.resizeTextarea()),this.$emit("change.value",a),this.$emit("change",e),this.$emit("input",e))},focus:function(){this.$refs.textArea.focus()},blur:function(){this.$refs.textArea.blur()}},render:function(){var e=arguments[0],t=this.stateValue,a=this.handleKeyDown,r=this.handleTextareaChange,o=this.textareaStyles,s=this.$attrs,d=this.$listeners,c=this.prefixCls,m=this.disabled,h=Object(p["a"])(this.$props,["prefixCls","autosize","type","value","defaultValue","lazy"]),b=this.configProvider.getPrefixCls,f=b("input",c),v=u()(f,n()({},f+"-disabled",m)),g={directives:[{name:"ant-input"}],attrs:l()({},h,s),on:l()({},d,{keydown:a,input:r,change:O})};return e("textarea",i()([g,{domProps:{value:t},class:v,style:o,ref:"textArea"}]))}}},c1aff:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,ok:!1,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称",hidden:!1,hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{id:"departName",placeholder:"请输入机构/部门名称"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,hidden:e.seen,label:"上级部门",hasFeedback:""}},[a("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门",disabled:e.condition},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构类型"}},[e.seen?[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",e.validatorRules.orgCategory],expression:"['orgCategory',validatorRules.orgCategory]"}],attrs:{placeholder:"请选择机构类型"}},[a("a-radio",{attrs:{value:"1"}},[e._v("\n            公司\n          ")])],1)]:[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",e.validatorRules.orgCategory],expression:"['orgCategory',validatorRules.orgCategory]"}],attrs:{placeholder:"请选择机构类型"}},[a("a-radio",{attrs:{value:"2"}},[e._v("\n              部门\n            ")]),a("a-radio",{attrs:{value:"3"}},[e._v("\n              岗位\n            ")])],1)]],2),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",e.validatorRules.mobile],expression:"['mobile',validatorRules.mobile]"}],attrs:{placeholder:"请输入电话"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"传真"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fax",{}],expression:"['fax', {}]"}],attrs:{placeholder:"请输入传真"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{}],expression:"['address', {}]"}],attrs:{placeholder:"请输入地址"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{}],expression:"['memo', {}]"}],attrs:{placeholder:"请输入备注"}})],1)],1)],1)],1)},i=[],o=(a("3b2b"),a("6b54"),a("0fea")),n=a("4ec3"),s=a("261e"),l={name:"SysDepartModal",components:{ATextarea:s["a"]},data:function(){return{departTree:[],orgTypeData:[],phoneWarning:"",departName:"",title:"操作",seen:!1,visible:!1,condition:!0,disableSubmit:!1,model:{},menuhidden:!1,menuusing:!0,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{add:"/sys/sysDepart/add"},dictDisabled:!0}},created:function(){},methods:{loadTreeData:function(){var e=this;Object(n["E"])().then((function(t){if(t.success){e.departTree=[];for(var a=0;a<t.result.length;a++){var r=t.result[a];e.departTree.push(r)}}}))},add:function(e){e?(this.seen=!1,this.dictDisabled=!1):(this.seen=!0,this.dictDisabled=!0),this.edit(e)},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},{}),this.visible=!0,this.loadTreeData(),this.model.parentId=null!=e?e.toString():null,this.seen?this.model.orgCategory="1":this.model.orgCategory="2",this.$nextTick((function(){t.form.setFieldsValue(pick(t.model,"orgCategory","departName","departNameEn","departNameAbbr","departOrder","description","orgType","orgCode","mobile","fax","address","memo","status","delFlag"))}))},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,r){if(!a){t.confirmLoading=!0;var i=Object.assign(e.model,r);console.log(i),Object(o["httpAction"])(e.url.add,i,"post").then((function(e){e.success?(t.$message.success(e.message),t.loadTreeData(),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateMobile:function(e,t,a){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?a():a("您的手机号码格式不正确!")}}},d=l,u=a("2877"),p=Object(u["a"])(d,r,i,!1,null,"5b33a8c3",null);t["default"]=p.exports},c973:function(e,t,a){"use strict";var r=a("4d91");t["a"]={prefixCls:r["a"].string,inputPrefixCls:r["a"].string,defaultValue:[String,Number],value:[String,Number],placeholder:[String,Number],type:{default:"text",type:String},name:String,size:{validator:function(e){return["small","large","default"].includes(e)}},disabled:{default:!1,type:Boolean},readOnly:Boolean,addonBefore:r["a"].any,addonAfter:r["a"].any,prefix:r["a"].any,suffix:r["a"].any,spellCheck:Boolean,autoFocus:Boolean,allowClear:Boolean,lazy:{default:!0,type:Boolean}}}}]);