(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ee73f9d","chunk-5b24f8fa","chunk-2d0df843"],{"27fc":function(e,t,n){"use strict";n.r(t),n.d(t,"queryDataInfo",(function(){return _})),n.d(t,"queryWFlowDataInfo",(function(){return s})),n.d(t,"handleDataInfo",(function(){return o}));n("6762"),n("2fdb"),n("28a5"),n("c5f6"),n("96cf");var a=n("3b8d");function _(e,t,n,a,_){return r.apply(this,arguments)}function r(){return r=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,_,r){var i,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=_.getStore("cur_user"),e.next=3,s(t,i,n,a);case 3:return c=e.sent,e.next=6,a.queryTableData("onl_cgform_head",t.code);case 6:if(u=e.sent,l=u.table_name,null!=c){e.next=27;break}return e.prev=9,d=null,e.next=13,a.queryTableDataByParam(l,i["username"],i["realname"],0,1e5,n);case 13:if(d=e.sent,null==d||0!=d.result.total||0!=d.result.records.length){e.next=18;break}return e.next=17,a.getAction("".concat(t.url.getData).concat(t.code),n);case 17:d=e.sent;case 18:return e.next=20,o(t,d,_,r);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](9),console.log(e.t0);case 25:e.next=28;break;case 27:try{Number(c.total)>0?(t.table.pagination.total=Number(c.total),t.table.dataSource=c.records):(t.table.pagination.total=0,t.table.dataSource=[]),t.table.loading=!1}catch(p){console.log(p)}case 28:case"end":return e.stop()}}),e,null,[[9,22]])}))),r.apply(this,arguments)}function s(e,t,n,a){return i.apply(this,arguments)}function i(){return i=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,_){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,"0b511f234f3847baa50106a14fff6215"!=t.code||"流程审批日志表"!=t.description){e.next=7;break}return e.next=4,_.queryProcessLogToApproved(n["username"],n["realname"],a);case 4:r=e.sent,e.next=17;break;case 7:if("dae6cc0e7a7f4b7e9dc0fc36757fdc96"!=t.code||"流程审批日志历史表"!=t.description){e.next=13;break}return e.next=10,_.queryProcessLogHisApproved(n["username"],n["realname"],a);case 10:r=e.sent,e.next=17;break;case 13:if("d11901bc44f24a66b25b37a7a04c611e"!=t.code||"流程审批知会表"!=t.description){e.next=17;break}return e.next=16,_.queryProcessLogInfApproved(n["username"],n["realname"],a);case 16:r=e.sent;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function o(e,t){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,_,r,s,i,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]?u[2]:window.storage,_=u.length>3&&void 0!==u[3]?u[3]:window.tools,n.success)if(r=n.result,s=a.getStore("cur_user"),Number(r.total)>0)for(t.table.pagination.total=Number(n.result.total),n.result.records=window.__.filter(n.result.records,(function(e){if("leader"in e&&"079c6dd6140c4b269e9bf8601deef901"==t.code){var n=_.deNull(e["members"]).split(","),a=e["leader"]==s["username"]||e["leader"]==s["realname"],r=n.includes(s["username"])||n.includes(s["realname"]);return a=a||r,a}return"create_by"in e&&"bd3d13e4fa5c4b0d91d589cd554397bd"!=t.code?e["create_by"]==s["username"]||e["create_by"]==s["realname"]:"employee"in e&&"bd3d13e4fa5c4b0d91d589cd554397bd"!=t.code?e["employee"]==s["username"]||e["employee"]==s["realname"]:!("proposer"in e&&"933e21cf445440abb8cfdae366082a62"==t.code)||(e["proposer"]==s["username"]||e["proposer"]==s["realname"])})),t.pagination.total=n.result.records.total,t.table.dataSource=n.result.records,i=0;i<n.result.records.length;i++)o=n.result.records[i],c="",o.log_info_html=c,console.log("html info : ".concat(c));else t.table.pagination.total=0,t.table.dataSource=[];else t.$message.warning(n.message);t.table.loading=!1;case 5:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},"7c93":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"导入EXCEL",width:600,visible:e.visible,confirmLoading:e.uploading},on:{cancel:e.handleClose}},[n("a-upload",{attrs:{name:"file",multiple:!0,accept:".xls,.xlsx",fileList:e.fileList,remove:e.handleRemove,beforeUpload:e.beforeUpload}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n      选择导入文件\n    ")],1)],1),n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleClose}},[e._v("关闭")]),n("a-button",{attrs:{type:"primary",disabled:0===e.fileList.length,loading:e.uploading},on:{click:e.handleImport}},[e._v("\n      "+e._s(e.uploading?"上传中...":"开始上传")+"\n    ")])],1)],2)},_=[],r=(n("ac6a"),n("75fc")),s=n("0fea"),i={name:"JImportModal",props:{url:{type:String,default:"",required:!1},biz:{type:String,default:"",required:!1}},data:function(){return{visible:!1,uploading:!1,fileList:[],uploadAction:"",foreignKeys:""}},watch:{url:function(e){e&&(this.uploadAction=window._CONFIG["domianURL"]+e)}},created:function(){this.uploadAction=window._CONFIG["domianURL"]+this.url},methods:{handleClose:function(){this.visible=!1},show:function(e){this.fileList=[],this.uploading=!1,this.visible=!0,this.foreignKeys=e},handleRemove:function(e){var t=this.fileList.indexOf(e),n=this.fileList.slice();n.splice(t,1),this.fileList=n},beforeUpload:function(e){return this.fileList=[].concat(Object(r["a"])(this.fileList),[e]),!1},handleImport:function(){var e=this,t=this.fileList,n=new FormData;this.biz&&n.append("isSingleTableImport",this.biz),this.foreignKeys&&this.foreignKeys.length>0&&n.append("foreignKeys",this.foreignKeys),t.forEach((function(e){n.append("files[]",e)})),this.uploading=!0,Object(s["postAction"])(this.uploadAction,n).then((function(t){e.uploading=!1,t.success?(e.$message.success(t.message),e.visible=!1,e.$emit("ok")):e.$message.warning(t.message)}))}}},o=i,c=n("2877"),u=Object(c["a"])(o,a,_,!1,null,"495e2a21",null);t["default"]=u.exports},"89f2":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));n("96cf"),n("28a5"),n("6b54"),n("ac4d"),n("8a81"),n("ac6a");var a=n("3b8d"),_=n("4ec3");n("0fea");function r(e){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","字典Code不能为空!");case 2:return e.next=4,Object(_["f"])(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function i(e,t){if(e instanceof Array){var n=!0,a=!1,_=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var i=r.value;if(t===i.value)return i.text}}catch(o){a=!0,_=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw _}}}return t}function o(e,t){if(0===t||"0"===t){var n=!0,a=!1,_=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var i=r.value;if(t==i.value)return i.text}}catch(u){a=!0,_=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw _}}}if(!t||!e||0==e.length)return"";var o="";t=t.toString();var c=t.split(",");return e.forEach((function(e){for(var t=0;t<c.length;t++)if(c[t]===e.value){o+=e.text+",";break}})),""==o?t:o.substring(0,o.length-1)}},"8f2d":function(e,t,n){},9937:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[e.queryInfo&&e.queryInfo.length>0?n("a-row",{attrs:{gutter:24}},[e._l(e.queryInfo,(function(t,a){return["1"===t.hidden?["datetime"==t.view?n("a-col",{directives:[{name:"show",rawName:"v-show",value:e.toggleSearchStatus,expression:"toggleSearchStatus"}],key:"query"+a,attrs:{md:12,sm:16}},[n("online-query-form-item",{attrs:{queryParam:e.queryParam,item:t,dictOptions:e.dictOptions}})],1):n("a-col",{directives:[{name:"show",rawName:"v-show",value:e.toggleSearchStatus,expression:"toggleSearchStatus"}],key:"query"+a,attrs:{md:6,sm:8}},[n("online-query-form-item",{attrs:{queryParam:e.queryParam,item:t,dictOptions:e.dictOptions}})],1)]:["datetime"==t.view?n("a-col",{key:"query"+a,attrs:{md:12,sm:16}},[n("online-query-form-item",{attrs:{queryParam:e.queryParam,item:t,dictOptions:e.dictOptions}})],1):n("a-col",{key:"query"+a,attrs:{md:6,sm:8}},[n("online-query-form-item",{attrs:{queryParam:e.queryParam,item:t,dictOptions:e.dictOptions}})],1)]]})),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{staticStyle:{"margin-left":"0px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchByquery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px","font-size":"12px",height:"28px",padding:"0 10px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2):e._e()],1)],1),n("div",{staticClass:"table-operator"},[e.buttonSwitch.add?n("a-button",{staticStyle:{"margin-left":"0px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]):e._e(),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"book"},on:{click:e.handleDetailWF}},[e._v("详情")]),e.buttonSwitch.import?n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"upload"},on:{click:e.handleImportXls}},[e._v("导入")]):e._e(),e.buttonSwitch.export?n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]):e._e(),e.hasBpmStatus?[n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"share-alt"},on:{click:e.handleFreeWF}},[e._v("自由流")]),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px",display:"none"},attrs:{type:"primary",icon:"cloud-upload"},on:{click:e.handleSubmitWF}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"cloud-download"},on:{click:e.handleCancelWF}},[e._v("撤销")]),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"sound"},on:{click:e.handleNotifyWF}},[e._v("知会")]),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"printer"},on:{click:e.handlePrintWF}},[e._v("打印")]),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"star"},on:{click:e.handleCollection}},[e._v("收藏")]),n("a-button",{staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:"compass"},on:{click:e.handleShareWF}},[e._v("分享")])]:e._e(),"0b511f234f3847baa50106a14fff6215"==e.code?void 0:e._e(),"d11901bc44f24a66b25b37a7a04c611e"==e.code?void 0:e._e(),e._l(e.cgButtonList,(function(t,a){return e.cgButtonList&&e.cgButtonList.length>0?["js"==t.optType?n("a-button",{key:"cgbtn"+a,staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:t.buttonIcon},on:{click:function(n){return e.cgButtonJsHandler(t.buttonCode)}}},[e._v(e._s(t.buttonName))]):"action"==t.optType?n("a-button",{key:"cgbtn"+a,staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{type:"primary",icon:t.buttonIcon},on:{click:function(n){return e.cgButtonActionHandler(t.buttonCode)}}},[e._v(e._s(t.buttonName))]):e._e()]:e._e()})),e.buttonSwitch.batch_delete?n("a-button",{directives:[{name:"show",rawName:"v-show",value:e.table.selectionRows.length>0&&"0b511f234f3847baa50106a14fff6215"!=e.code&&"dae6cc0e7a7f4b7e9dc0fc36757fdc96"!=e.code&&"d11901bc44f24a66b25b37a7a04c611e"!=e.code,expression:"\n        table.selectionRows.length > 0 &&\n          code != '0b511f234f3847baa50106a14fff6215' &&\n          code != 'dae6cc0e7a7f4b7e9dc0fc36757fdc96' &&\n          code != 'd11901bc44f24a66b25b37a7a04c611e'\n      "}],staticStyle:{"margin-left":"6px","font-size":"12px",height:"28px",padding:"0 10px"},attrs:{ghost:"",type:"primary",icon:"delete"},on:{click:e.handleDelBatch}},[e._v("删除")]):e._e()],2),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("\n      已选择 \n      "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.table.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"cgformAutoList",staticStyle:{"min-height":"300px"},attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.table.columns,dataSource:e.table.dataSource,pagination:e.pagination,loading:e.table.loading,rowSelection:{selectedRowKeys:e.table.selectedRowKeys,onChange:e.handleChangeInTableSelect}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"dateSlot",fn:function(t){return[n("span",[e._v(e._s(e.getFormatDate(t)))])]}},{key:"htmlSlot",fn:function(t){return[n("div",{domProps:{innerHTML:e._s(t)}})]}},{key:"imgSlot",fn:function(t){return[t?n("img",{staticStyle:{"max-width":"80px","font-size":"12px","font-style":"italic"},attrs:{src:e.getImgView(t),height:"25px",alt:"图片不存在"}}):n("span",{staticStyle:{"font-size":"12px","font-style":"italic"}},[e._v("无此图片")])]}},{key:"fileSlot",fn:function(t){return[t?n("span",[n("a-button",{staticStyle:{transform:"scale(0.65,0.65)","margin-left":"-5px","margin-right":"-5px"},attrs:{type:"primary",size:"small"},on:{click:function(n){return e.uploadFile(t)}}},[e._v("下载")]),n("a-button",{staticStyle:{transform:"scale(0.65,0.65)","margin-left":"-5px","margin-right":"-5px"},attrs:{type:"primary",size:"small"},on:{click:function(n){return e.viewFile(t)}}},[e._v("预览")])],1):n("span",{staticStyle:{"font-size":"12px","font-style":"italic"}},[e._v("无此文件")])]}},{key:"action",fn:function(t,a){return n("span",{},["dae6cc0e7a7f4b7e9dc0fc36757fdc96"!=e.code&&"0b511f234f3847baa50106a14fff6215"!=e.code&&"d11901bc44f24a66b25b37a7a04c611e"!=e.code?[n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n              操作\n              "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e.hasBpmStatus?["1"==a.bpm_status||""==a.bpm_status||null==a.bpm_status?[e.buttonSwitch.update?[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")])])]:e._e()]:e._e()]:[e.buttonSwitch.update?[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")])])]:e._e()],e.hasBpmStatus?void 0:[e.buttonSwitch.delete?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDeleteOne(a)}}},[n("a",[e._v("删除")])])],1):e._e()],e._l(e.cgButtonLinkList,(function(t,_){return e.cgButtonLinkList&&e.cgButtonLinkList.length>0?[n("a-menu-item",{key:"cgbtnLink"+_},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(n){return e.cgButtonLinkHandler(a,t.buttonCode,t.optType)}}},[t.buttonIcon?n("a-icon",{attrs:{type:t.buttonIcon}}):e._e(),e._v("\n                    "+e._s(t.buttonName)+"\n                  ")],1)])]:e._e()}))],2)],1)]:[e._v("--")]],2)}}])},[n("div",{attrs:{slot:"filterDropdown"},slot:"filterDropdown"},[n("a-card",[n("a-checkbox-group",{attrs:{defaultValue:e.columns},on:{change:e.onColSettingsChange},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},[n("a-row",[e._l(e.columns,(function(t,a){return["rowIndex"!=t.key&&"action"!=t.dataIndex?[n("a-col",{attrs:{span:12}},[n("a-checkbox",{attrs:{value:t.dataIndex}},[e._v("\n                      "+e._s(t.title)+"\n                    ")])],1)]:e._e()]}))],2)],1)],1)],1),n("a-icon",{style:{fontSize:"16px",color:"#108ee9"},attrs:{slot:"filterIcon",type:"setting"},slot:"filterIcon"})],1),n("a-modal",{attrs:{title:"温馨提示",visible:e.tipVisible,confirmLoading:e.tipConfirmLoading},on:{ok:e.tipHandleOk,cancel:e.tipHandleCancel}},[n("p",[e._v(e._s(e.tipContent))])]),n("OnlCgformAutoModal",{ref:"modal",attrs:{code:e.code},on:{success:e.handleFormSuccess}}),n("j-import-modal",{ref:"importModal",attrs:{url:e.getImportUrl()},on:{ok:e.importOk}})],1)])},_=[],r=n("f914"),s=r["a"],i=(n("a6c7"),n("2877")),o=Object(i["a"])(s,a,_,!1,null,null,null);t["default"]=o.exports},a6c7:function(e,t,n){"use strict";var a=n("8f2d"),_=n.n(a);_.a},f914:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__),_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("75fc"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac4d"),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("8a81"),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_8__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__),_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("3b8d"),_components_dict_JDictSelectUtil__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("89f2"),_components_jeecg_JImportModal__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("7c93"),_utils_request__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("b775"),_api_manage__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0fea"),_api_autoAPI_handle__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("27fc"),_api_workflow__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("f36f"),_utils_storage__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("5d2d"),_utils_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("ca00"),_store_mutation_types__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("9fb0");window.mutationTypes=_store_mutation_types__WEBPACK_IMPORTED_MODULE_19__,window.requestAPI=_utils_request__WEBPACK_IMPORTED_MODULE_13__,window.manageAPI=_api_manage__WEBPACK_IMPORTED_MODULE_14__,window.storage=_utils_storage__WEBPACK_IMPORTED_MODULE_17__,window.tools=_utils_util__WEBPACK_IMPORTED_MODULE_18__,window.handleAPI=_api_autoAPI_handle__WEBPACK_IMPORTED_MODULE_15__,window.workflowAPI=_api_workflow__WEBPACK_IMPORTED_MODULE_16__,__webpack_exports__["a"]={name:"OnlCgFormAutoList",components:{JImportModal:_components_jeecg_JImportModal__WEBPACK_IMPORTED_MODULE_12__["default"]},data:function(){return{pagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30","50","100"],showQuickJumper:!0,showSizeChanger:!1,total:0},code:"",fixedWFlow:"",modelModal:!1,modelWFlowSelection:"",rights:[],description:"在线报表",currentTableName:"",tipContent:"",tipVisible:!1,tipConfirmLoading:!1,url:{getQueryInfo:"/online/cgform/api/getQueryInfo/",getColumns:"/online/cgform/api/getColumns/",getData:"/online/cgform/api/getData/",optPre:"/online/cgform/api/form/",exportXls:"/online/cgform/api/exportXls/",buttonAction:"/online/cgform/api/doButton"},flowCodePre:"onl_",isorter:{column:"createTime",order:"desc"},dictOptions:{},cgButtonLinkList:[],cgButtonList:[],queryInfo:[],queryParam:{},cityList:[{value:"beijing",label:"北京"}],toggleSearchStatus:!1,table:{loading:!0,columns:[],settingColumns:[],dataSource:[],selectedRowKeys:[],selectionRows:[],pagination:{current:1,pageSize:1e4,pageSizeOptions:["10000"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0}},actionColumn:{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},fixed:"right",align:"center",width:80},formTemplate:"99",EnhanceJS:"",hideColumns:["content"],buttonSwitch:{add:!0,update:!0,delete:!0,batch_delete:!0,import:!0,export:!0},hasBpmStatus:!1}},created:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initAutoList(),this.queryCode(),this.table.selectionRows=[],this.table.selectedRowKeys=[],e.next=6,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryUserName"]();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initAutoList(),this.queryCode(),this.table.selectionRows=[],this.table.selectedRowKeys=[],e.next=6,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryUserName"]();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{$route:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initAutoList(),this.queryCode(),this.table.selectionRows=[],this.table.selectedRowKeys=[],e.next=6,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryUserName"]();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},methods:{queryCode:function(){try{this.code=window.location.pathname.split("/")[3]}catch(e){console.error(e)}},tipHandleOk:function(e){var t=this;this.tipConfirmLoading=!0,setTimeout((function(){t.loadData(1),t.tipVisible=!1,t.tipConfirmLoading=!1}),300)},tipHandleCancel:function(){this.loadData(1),this.tipVisible=!1},hasBpmStatusFilter:function(){var e=this.table.columns,t=[],n=!0,a=!1,_=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var i=r.value;t.push(i.dataIndex)}}catch(o){a=!0,_=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw _}}t.includes("bpm_status")||t.includes("BPM_STATUS")?this.hasBpmStatus=!0:this.hasBpmStatus=!1},modalOk:function(){var e=this.modelWFlowSelection;this.fixedWFlow=window.__.find(this.rights,(function(t){return t["id"]=e}));var t=JSON.stringify(this.fixedWFlow);console.log(" 获取流程权责配置 ".concat(e," , fixedWFlow : ").concat(t))},deStringNull:function(e){return"undefined"==typeof e||null==e||""==e?"":e},initQueryInfo:function(){var e=this;_api_manage__WEBPACK_IMPORTED_MODULE_14__["getAction"]("".concat(this.url.getQueryInfo).concat(this.code)).then((function(t){t.success?e.queryInfo=t.result:e.$message.warning(t.message)}))},initAutoList:function(){var e=this;this.$route.params.code?_utils_util__WEBPACK_IMPORTED_MODULE_18__["isNull"](this.code)&&(this.code=this.$route.params.code):this.queryCode(),this.table.loading=!0,_api_manage__WEBPACK_IMPORTED_MODULE_14__["getAction"]("".concat(this.url.getColumns).concat(this.code)).then((function(t){if(t.success){e.dictOptions=t.result.dictOptions,e.formTemplate=t.result.formTemplate,e.description=t.result.description,e.currentTableName=t.result.currentTableName,e.initCgButtonList(t.result.cgButtonList),e.initCgEnhanceJs(t.result.enhanceJs),e.initButtonSwitch(t.result.hideColumns);for(var n=t.result.columns,a=0;a<n.length;a++)n[a].customRender&&function(){var t=n[a].customRender;n[a].customRender=function(n){return Object(_components_dict_JDictSelectUtil__WEBPACK_IMPORTED_MODULE_11__["b"])(e.dictOptions[t],n)}}();n.push(e.actionColumn),e.table.columns=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__["a"])(n),e.table.columns=window.__.filter(e.table.columns,(function(e){return"content"!=e.dataIndex})),e.hasBpmStatusFilter(),e.loadData(),e.initQueryInfo()}else e.$message.warning(t.message)}))},processLog:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(t,n){var a,_,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this,_=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("processlog_by_bs_data_id@".concat(t)),null!=_&&""!=_){e.next=9;break}return e.next=5,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryPRLogHistoryByDataID"](t);case 5:r=e.sent,r.forEach((function(e){_+="流程名称：".concat(e.process_name," , 流程节点：").concat(e.process_station," , 处理人： ").concat(e.approve_user," , 审批操作：").concat(e.action," <br/>")})),n.processlog_html_info=_,_utils_storage__WEBPACK_IMPORTED_MODULE_17__["setStore"]("processlog_by_bs_data_id@".concat(t),n,10);case 9:return a.table.dataSource.forEach((function(e){e.id==t&&(e.processlog_html_info=_)})),e.abrupt("return",_);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),loadData:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this,n.table.pagination.current=1==t?1:n.table.pagination.current,a=n.getQueryParams(),e.next=5,_api_autoAPI_handle__WEBPACK_IMPORTED_MODULE_15__["queryDataInfo"](n,a,_api_manage__WEBPACK_IMPORTED_MODULE_14__,_utils_storage__WEBPACK_IMPORTED_MODULE_17__,_utils_util__WEBPACK_IMPORTED_MODULE_18__);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter),t=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),n=["0b511f234f3847baa50106a14fff6215","dae6cc0e7a7f4b7e9dc0fc36757fdc96"];return n.includes(this.code)&&(e.column="operate_time"),_utils_util__WEBPACK_IMPORTED_MODULE_18__["isNull"](e.create_by)&&(e.create_by=t.realname),e.pageNo=this.table.pagination.current,e.pageSize=this.table.pagination.pageSize,_utils_util__WEBPACK_IMPORTED_MODULE_18__["filterObj"](e)},handleChangeInTableSelect:function(e,t){this.table.selectedRowKeys=e,this.table.selectionRows=t},handleTableChange:function(e,t,n){this.pagination=e},handleAdd:function(){this.cgButtonJsHandler("beforeAdd"),this.$refs.modal.add(this.formTemplate)},handleImportXls:function(){this.$refs.importModal.show()},handlePrintWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,1==this.table.selectionRows.length){e.next=4;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 4:return n=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),e.next=7,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 7:a=e.sent,_=a["table_name"],r=this.table.selectionRows[0],_utils_storage__WEBPACK_IMPORTED_MODULE_17__["setStore"]("".concat(_,"@id=").concat(r.id),JSON.stringify(r),6e4),s="/workflow/view?table_name=".concat(_,"&id=").concat(r.id,"&user=").concat(n.username,"&type=print"),this.$router.push(s);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleNotifyWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,1==this.table.selectionRows.length){e.next=4;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 4:return n=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),e.next=7,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 7:return a=e.sent,_=a["table_name"],r=this.table.selectionRows[0],e.next=12,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableDataByField"]("v_handling_events","id",r.id);case 12:if(s=e.sent,4==r.bpm_status||5==r.bpm_status){e.next=16;break}return this.$message.warning("此记录尚未审批通过，无法进行知会操作！"),e.abrupt("return",!1);case 16:if(!(""!=_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](s)&&s.length>=1)){e.next=19;break}return this.$confirm_({title:"温馨提示",content:"此表单业务已进行了知会操作，请不要重复提交!"}),e.abrupt("return",!0);case 19:_utils_storage__WEBPACK_IMPORTED_MODULE_17__["setStore"]("".concat(_,"@id=").concat(r.id),JSON.stringify(r),6e4),i="/workflow/view?table_name=".concat(_,"&id=").concat(r.id,"&user=").concat(n.username,"&type=notifying"),this.$router.push(i);case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleFreeWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,1==this.table.selectionRows.length){e.next=4;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 4:return n=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),e.next=7,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 7:if(a=e.sent,_=a["table_name"],r=this.table.selectionRows[0],1==r.bpm_status){e.next=13;break}return this.$message.warning("此记录已进入流程，无法进行自由流程操作！"),e.abrupt("return",!1);case 13:_utils_storage__WEBPACK_IMPORTED_MODULE_17__["setStore"]("".concat(_,"@id=").concat(r.id),JSON.stringify(r),6e4),s="/workflow/view?table_name=".concat(_,"&id=").concat(r.id,"&user=").concat(n.username,"&type=workflowing"),this.$router.push(s);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleShareWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,1==t.table.selectionRows.length){e.next=4;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 4:return n=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),e.next=7,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 7:a=e.sent,_=a["table_name"],r=this.table.selectionRows[0],_utils_storage__WEBPACK_IMPORTED_MODULE_17__["setStore"]("".concat(_,"@id=").concat(r.id),JSON.stringify(r),6e4),s="/basewflow/view?table_name=".concat(_,"&id=").concat(r.id,"&user=").concat(n.username,"&type=view"),setTimeout((function(){window.open(s+"&flag=timeout","_blank")}),500);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDetailWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,1==this.table.selectionRows.length){e.next=4;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 4:return n=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),e.next=7,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 7:a=e.sent,_=a["table_name"],r=this.table.selectionRows[0],_utils_storage__WEBPACK_IMPORTED_MODULE_17__["setStore"]("".concat(_,"@id=").concat(r.id),JSON.stringify(r),6e4),s="/workflow/view?table_name=".concat(_,"&id=").concat(r.id,"&user=").concat(n.username),s="0b511f234f3847baa50106a14fff6215"==this.code?"/workflow/view?table_name=".concat(r.table_name,"&id=").concat(r.business_data_id,"&processLogID=").concat(r.id,"&user=").concat(n.username,"&type=workflow"):"d11901bc44f24a66b25b37a7a04c611e"==this.code?"/workflow/view?table_name=".concat(r.table_name,"&id=").concat(r.business_data_id,"&processLogID=").concat(r.id,"&user=").concat(n.username,"&type=notify"):"dae6cc0e7a7f4b7e9dc0fc36757fdc96"==this.code?"/workflow/view?table_name=".concat(r.table_name,"&id=").concat(r.business_data_id,"&processLogID=").concat(r.id,"&user=").concat(n.username,"&type=history"):"".concat(s,"&type=view"),this.$router.push(s);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleConfirmWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s,i,o,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,a=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),_=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),r=r||"知会",s=s||"已查看此业务流程，知会确认成功！",i=t.table.selectionRows[0],o=i["id"],c=i["table_name"],1==t.table.selectionRows.length){e.next=11;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 11:return e.next=13,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessLogInfByID"](c,o);case 13:if(i=e.sent,i["create_time"]=_,!(_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["approve_user"]).length>=_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["employee"]).length)){e.next=25;break}return e.next=18,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLogHistory"](i);case 18:return n=e.sent,e.next=21,_api_manage__WEBPACK_IMPORTED_MODULE_14__["deleteProcessLogInf"](c,[i]);case 21:return n=e.sent,t.tipVisible=!0,t.tipContent="知会确认成功！",e.abrupt("return",!0);case 25:if(u=","+_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["employee"])+",",l=","+_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["approve_user"])+",",u.includes(","+a["username"]+",")||u.includes(","+a["realname"]+",")){e.next=30;break}return t.$message.warning("您不在此知会记录的操作职员列中，无法进行确认操作！"),e.abrupt("return",!1);case 30:if(!l.includes(","+a["username"]+",")&&!l.includes(","+a["realname"]+",")){e.next=33;break}return t.$message.warning("您已经在此知会记录中，执行过确认操作了！"),e.abrupt("return",!1);case 33:return i["approve_user"]=_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["approve_user"])+(""==_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["approve_user"])?"":",")+a["username"],i["action"]=r,i["operate_time"]=_,i["action_opinion"]=_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["action_opinion"])+(""==_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](i["action_opinion"])?"":"\n\r")+"".concat(a["username"],":").concat(s),e.next=39,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"]("PR_LOG_INFORMED",i["id"],i);case 39:if(!(i["approve_user"].length>=i["employee"].length)){e.next=46;break}return e.next=42,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLogHistory"](i);case 42:return n=e.sent,e.next=45,_api_manage__WEBPACK_IMPORTED_MODULE_14__["deleteProcessLogInf"](c,[i]);case 45:n=e.sent;case 46:return t.tipVisible=!0,t.tipContent="知会确认成功！",t.loadData(),e.abrupt("return",n);case 50:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleApproveWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s,i,o,c,u,l,d,p,m,f,b,h,g,E,O,y,D,P,w,M,x,R,v,C,L,I,T;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,a=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),_=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),r=r||"同意",s=s||"",i=t.table.selectionRows[0],o=i["id"],c=i["business_data_id"],u=i["table_name"],l=i["process_audit"],d=null,1==t.table.selectionRows.length){e.next=14;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 14:return e.next=16,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessLogByID"](u,o);case 16:if(i=e.sent,i["employee"].includes(a["username"])||i["employee"].includes(a["realname"])){e.next=20;break}return t.$message.warning("您不在此审批流程记录的操作职员列中，无法进行审批操作！"),e.abrupt("return",!1);case 20:return e.next=22,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessLog"](u,c);case 22:return p=e.sent,window.__.each(p,(function(e){var t=e["create_time"];e["approve_user"]=a["username"],e["action"]=r,e["operate_time"]=_,e["action_opinion"]=s,e["create_time"]=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"](t,"yyyy-MM-dd hh:mm:ss")})),e.next=26,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLogHistory"](p);case 26:return n=e.sent,e.next=29,_api_manage__WEBPACK_IMPORTED_MODULE_14__["deleteProcessLog"](u,p);case 29:return n=e.sent,e.next=32,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryBusinessInfo"](u);case 32:if(m=e.sent,t.fixedWFlow=m[0],t.rights=m,!(m.length>1&&"000000000"!=i.business_code)){e.next=39;break}t.modelModal=!0,e.next=155;break;case 39:if(!(m.length<=0&&"000000000"!=i.business_code)){e.next=45;break}return t.tipVisible=!0,t.tipContent="未获取到此业务的流程权责，无法同意审批！",e.abrupt("return",!1);case 45:if(f="",b="",h=l,g=""==_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](b)?"":b.split(","),"000000000"==i.business_code){e.next=64;break}e.prev=50,f=","+t.fixedWFlow["audit"]+","+t.fixedWFlow["approve"]+",",b=t.fixedWFlow["notify"],d=t.fixedWFlow["approve"],e.next=62;break;case 56:return e.prev=56,e.t0=e["catch"](50),t.tipVisible=!0,t.tipContent="固化流程设置节点失败，无法进行审批操作！",console.log("固化流程设置节点失败 :"+e.t0),e.abrupt("return",!1);case 62:e.next=78;break;case 64:e.prev=64,E=JSON.parse(i.business_data),f=","+E.audit_node+","+E.approve_node+",",g=""==_utils_util__WEBPACK_IMPORTED_MODULE_18__["deNull"](E.notify_node)?[]:[E.notify_node],h=i["employee"],d=E.approve_node,e.next=78;break;case 72:return e.prev=72,e.t1=e["catch"](64),t.tipVisible=!0,t.tipContent="自由流程设置节点失败，无法进行审批操作！",console.log("自由流程设置节点失败 :"+e.t1),e.abrupt("return",!1);case 78:if(O=f.split(","+h+","),y=O[1],""!=y){e.next=122;break}return e.next=83,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"](u,i["business_data_id"],{bpm_status:"4"});case 83:n=e.sent,D=!0,P=!1,w=void 0,e.prev=87,M=g[Symbol.iterator]();case 89:if(D=(x=M.next()).done){e.next=105;break}return R=x.value,e.next=93,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessNodeEmployee"](R);case 93:return v=e.sent,e.next=96,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessNodeProcName"](R);case 96:return C=e.sent,L={},L="000000000"!=i.business_code?{id:_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryRandomStr"](32),table_name:u,main_value:i["main_value"],business_data_id:i["business_data_id"],business_code:t.fixedWFlow["id"],process_name:t.fixedWFlow["items"],employee:v[0]["employee"],process_station:C[0]["item_text"],process_audit:R,operate_time:_,create_time:_,proponents:i["proponents"],content:i["content"],business_data:JSON.stringify(i)}:{id:_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryRandomStr"](32),table_name:u,main_value:i["business_data_id"],business_data_id:i["business_data_id"],business_code:"000000001",process_name:"自由流程知会",employee:R,process_station:"自由流程知会",process_audit:"000000001",proponents:i["proponents"],content:i["content"],operate_time:_,create_time:_,business_data:i.business_data},e.next=101,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLogInformed"](L);case 101:n=e.sent;case 102:D=!0,e.next=89;break;case 105:e.next=111;break;case 107:e.prev=107,e.t2=e["catch"](87),P=!0,w=e.t2;case 111:e.prev=111,e.prev=112,D||null==M.return||M.return();case 114:if(e.prev=114,!P){e.next=117;break}throw w;case 117:return e.finish(114);case 118:return e.finish(111);case 119:t.tipContent="同意审批成功，审批流程处理完毕！",e.next=154;break;case 122:return y=0==y.indexOf(",")?y.substring(1):y,y=y.split(",")[0],I="2",d==y&&(I="3"),e.next=128,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"](u,i["business_data_id"],{bpm_status:I});case 128:if(n=e.sent,L={},"000000000"==i.business_code){e.next=140;break}return e.next=133,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessNodeEmployee"](y);case 133:return v=e.sent,e.next=136,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessNodeProcName"](y);case 136:C=e.sent,L={id:_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryRandomStr"](32),table_name:u,main_value:i["main_value"],business_data_id:i["business_data_id"],business_code:t.fixedWFlow["id"],process_name:t.fixedWFlow["items"],employee:v[0]["employee"],process_station:C[0]["item_text"],process_audit:y,proponents:i["proponents"],content:i["content"],create_time:_,business_data:i.business_data},e.next=141;break;case 140:L={id:_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryRandomStr"](32),table_name:u,main_value:i["business_data_id"],business_data_id:i["business_data_id"],business_code:"000000000",process_name:"自由流程审批",employee:y,process_station:"自由流程审批",process_audit:"000000000",proponents:i["proponents"],content:i["content"],operate_time:_,create_time:_,business_data:i.business_data};case 141:return e.next=143,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryApprovalLength"](u,i["business_data_id"]);case 143:if(T=e.sent,0!=T){e.next=148;break}t.tipContent="处理异常，请稍后重试；如果多次处理异常，可能需要撤销当前审批，重新发起审批流程！异常流程数据[status:".concat(T,"]"),e.next=154;break;case 148:return e.next=150,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLog"](L);case 150:n=e.sent,console.log(" 修改当前记录审批状态为处理中返回结果:"+JSON.stringify(n)),t.table.dataSource.push(L),t.tipContent="同意审批成功，审批流程已推向后续处理人！";case 154:t.tipVisible=!0;case 155:t.loadData(),console.log("同意审批成功！");case 157:case"end":return e.stop()}}),e,this,[[50,56],[64,72],[87,107,111,119],[112,,114,118]])})));function t(){return e.apply(this,arguments)}return t}(),handleRejectWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,a=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),_=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),r=r||"驳回",s=s||"",i=t.table.selectionRows[0],1==t.table.selectionRows.length){e.next=9;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 9:if(o=i["table_name"],i["employee"].includes(a["username"])||i["employee"].includes(a["realname"])){e.next=13;break}return t.$message.warning("您不在此审批流程记录的操作职员列中，无法进行驳回操作！"),e.abrupt("return",!1);case 13:return e.next=15,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessLogByID"](o,i["id"]);case 15:return i=e.sent,e.next=18,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessLog"](o,i["business_data_id"]);case 18:return c=e.sent,window.__.each(c,(function(e){e["approve_user"]=a["username"],e["action"]=r,e["operate_time"]=_,e["action_opinion"]=s})),e.next=22,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLogHistory"](c);case 22:return n=e.sent,e.next=25,_api_manage__WEBPACK_IMPORTED_MODULE_14__["deleteProcessLog"](o,c);case 25:return n=e.sent,e.next=28,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"](o,i["business_data_id"],{bpm_status:"1"});case 28:return n=e.sent,e.next=31,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"](o,i["business_data_id"],{bpm_status:"1"});case 31:return n=e.sent,t.tipVisible=!0,t.tipContent="驳回审批成功！",t.loadData(),console.log("驳回审批成功"),e.abrupt("return",n);case 37:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSubmitWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s,i,o,c,u,l,d,p,m,f,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,n={},a=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),1==t.table.selectionRows.length){e.next=6;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 6:return t.table.selectedRowKeys[0],_=t.table.selectionRows[0],e.next=10,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryExistWorkflow"](_.id);case 10:if(r=e.sent,"2"!=_["bpm_status"]&&"3"!=_["bpm_status"]&&("undefined"==typeof r||null==r)){e.next=17;break}return t.tipVisible=!0,t.tipContent="待审记录中，已经存在此记录，无法再次提交审批！",e.abrupt("return",!1);case 17:if("4"!=_["bpm_status"]&&"5"!=_["bpm_status"]){e.next=23;break}return t.tipVisible=!0,t.tipContent="此记录的审批流程，已经完成审批，无法再次提交审批！",e.abrupt("return",!1);case 23:if("10"!=_["bpm_status"]){e.next=27;break}return t.tipVisible=!0,t.tipContent="此记录的审批流程，已经作废，无法再次提交审批！",e.abrupt("return",!1);case 27:return s=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),e.next=30,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 30:return i=e.sent,o=i["table_name"],e.next=34,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryBusinessInfo"](o);case 34:if(c=e.sent,t.fixedWFlow=c[0],t.rights=c,!(c.length>1)){e.next=41;break}t.modelModal=!0,e.next=87;break;case 41:if(!(c.length<=0)){e.next=47;break}return t.tipVisible=!0,t.tipContent="尚未配置此业务的流程权责，无法提交审批！",e.abrupt("return",!1);case 47:return u=t.fixedWFlow["audit"].split(",")[0],e.next=50,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessNodeEmployee"](u);case 50:return l=e.sent,e.next=53,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessNodeProcName"](u);case 53:if(d=e.sent,!Array.isArray(l)||0!=l.length){e.next=57;break}return this.$notification["error"]({message:"温馨提示",description:"没有获取到审核节点的用户信息，请在流程设计->节点配置中设置审核节点的审核用户！",duration:4}),e.abrupt("return",!1);case 57:return p={id:_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryRandomStr"](32),table_name:o,main_value:i["id"],business_data_id:_["id"],business_code:t.fixedWFlow["id"],process_name:t.fixedWFlow["items"],employee:l[0]["employee"],process_station:d[0]["item_text"],process_audit:u,proponents:s["realname"],content:_["content"],create_time:a,business_data:JSON.stringify(_)},e.next=60,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryApprovalExist"](o,_["id"]);case 60:if(m=e.sent,!m){e.next=65;break}t.tipContent="待审记录中，已经存在此记录，无法再次提交审批！",e.next=83;break;case 65:return f={id:_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryRandomStr"](32),table_name:o,main_value:i["id"],business_data_id:_["id"],business_code:t.fixedWFlow["id"],process_name:t.fixedWFlow["items"],employee:s["username"],process_station:d[0]["item_text"],process_audit:"000000003",proponents:s["username"],approve_user:s["username"],action:"发起",action_opinion:"发起固化流程",content:_["content"],operate_time:a,create_time:a,business_data:JSON.stringify(_)},e.next=68,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLogHistory"](f);case 68:return n=e.sent,e.next=71,_api_manage__WEBPACK_IMPORTED_MODULE_14__["postProcessLog"](p);case 71:return n=e.sent,console.log(" 提交审批返回结果: "+JSON.stringify(n)),e.next=75,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"](o,_["id"],{bpm_status:"2"});case 75:return n=e.sent,e.next=78,_api_manage__WEBPACK_IMPORTED_MODULE_14__["patchTableData"](o,_["id"],{bpm_status:"2"});case 78:n=e.sent,_["bpm_status"]="2",b=" 修改当前记录审批状态为处理中返回结果:"+JSON.stringify(n),console.log(b),t.tipContent="提交审批成功！";case 83:return t.tipVisible=!0,t.loadData(),console.log(" tableName : "+o+" \n rights : "+JSON.stringify(c)),e.abrupt("return",!0);case 87:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleCancelWF:function(){var e=Object(_Users_yunwisdom_Workspace_oa_front_service_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark((function e(){var t,n,a,_,r,s,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,a=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user"),_=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),r="撤销",s="撤销审批",i=t.table.selectionRows[0],1==t.table.selectionRows.length){e.next=9;break}return t.$message.warning("请选择一条记录！"),e.abrupt("return",!1);case 9:return e.next=11,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryTableName"]();case 11:if(o=e.sent,c=o["table_name"],"1"!=i["bpm_status"]){e.next=16;break}e.next=26;break;case 16:if("4"!=i["bpm_status"]&&"5"!=i["bpm_status"]){e.next=22;break}return t.tipVisible=!0,t.tipContent="该记录已完成审批，无法撤销审批！",e.abrupt("return",!1);case 22:if("10"!=i["bpm_status"]){e.next=26;break}return t.tipVisible=!0,t.tipContent="该记录审批流程已作废，无法撤销审批！",e.abrupt("return",!1);case 26:return e.next=28,_api_manage__WEBPACK_IMPORTED_MODULE_14__["queryProcessLog"](c,i["id"]);case 28:return u=e.sent,window.__.each(u,(function(e){var t=e["create_time"];e["approve_user"]=a["username"],e["action"]=r,e["operate_time"]=_,e["action_opinion"]=s,e["create_time"]=_utils_util__WEBPACK_IMPORTED_MODULE_18__["formatDate"](t,"yyyy-MM-dd hh:mm:ss")})),_api_workflow__WEBPACK_IMPORTED_MODULE_16__["postWorkflowCancel"](c,i,u),i["bpm_status"]="1",t.tipVisible=!0,t.tipContent="撤销审批成功！",t.loadData(),e.abrupt("return",n);case 36:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),importOk:function(){this.loadData(1)},handleExportXls2:function(){var e=this.queryParam;if(this.table.selectionRows.length<=0)return this.$message.warning("请选择需要导出的记录！"),!1;this.table.selectedRowKeys&&this.table.selectedRowKeys.length>0&&(e["selections"]=this.table.selectedRowKeys.join(","));var t=encodeURI(JSON.stringify(e));console.log("paramsStr: "+t);var n=window._CONFIG["domainURL"]+this.url.exportXls+this.code+"?paramsStr="+t;window.location.href=n},handleExportXls:function(){var e=this,t=this.queryParam,n=_utils_storage__WEBPACK_IMPORTED_MODULE_17__["getStore"]("cur_user");if(this.table.selectionRows.length<=0)return this.$message.warning("请选择需要导出的记录！"),!1;this.table.selectedRowKeys&&this.table.selectedRowKeys.length>0&&(t["selections"]=this.table.selectedRowKeys.join(",")),console.log("导出参数",t);var a=JSON.stringify(_utils_util__WEBPACK_IMPORTED_MODULE_18__["filterObj"](t));_api_manage__WEBPACK_IMPORTED_MODULE_14__["downFile"](this.url.exportXls+this.code,{paramsStr:a}).then((function(t){if(t)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),"".concat(e.description,"_").concat(n.realname,".xls"));else{var a=window.URL.createObjectURL(new Blob([t])),_=document.createElement("a");_.style.display="none",_.href=a,_.setAttribute("download","".concat(e.description,"_").concat(n.realname,".xls")),document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(a)}else e.$message.warning("文件下载失败")}))},handleEdit:function(e){this.cgButtonLinkHandler(e,"beforeEdit","js"),this.$refs.modal.edit(this.formTemplate,e.id)},handleDetail:function(e){this.$refs.modal.detail(this.formTemplate,e.id)},handleDeleteOne:function(e){this.cgButtonLinkHandler(e,"beforeDelete","js"),this.handleDelete(e.id)},handleDelete:function(e){var t=this;_api_manage__WEBPACK_IMPORTED_MODULE_14__["deleteAction"](this.url.optPre+this.code+"/"+e).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))},handleFormSuccess:function(){this.loadData()},onClearSelected:function(){this.table.selectedRowKeys=[],this.table.selectionRows=[]},getImgView:function(e){return e&&e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(","))),window._CONFIG["downloadURL"]+"/"+e},uploadFile:function(e){e?(e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(","))),console.log(e),window.open(window._CONFIG["downloadURL"]+"/"+e)):this.$message.warning("未知的文件")},viewFile:function(e){if(e){e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(",")));var t="https://view.officeapps.live.com/op/view.aspx?src=",n=window._CONFIG["downloadURL"]+"/"+e,a=encodeURIComponent(n),_=e.substring(e.lastIndexOf("."),e.length).toLowerCase();n=_.includes("doc")||_.includes("ppt")||_.includes("xls")?t+a:n,_.includes("pdf"),n=n,window.open(n)}else this.$message.warning("未知的文件")},handleDelBatch:function(){if(1!=this.table.selectedRowKeys.length)return this.$message.warning("请选择一条记录！"),!1;var e="",t=this,n=t.table.selectionRows[0];if("1"!=n["bpm_status"])return this.$message.warning("当前记录已经进入流程，无法删除！"),!1;t.table.selectedRowKeys.forEach((function(t){e+=t+","})),t.$confirm_({title:"确认删除",content:"是否删除选中数据?",onOk:function(){t.handleDelete(e),t.onClearSelected()}})},searchByquery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus},getFormatDate:function(e){if(!e)return"";var t=e;return t.length>10&&(t=t.substring(0,10)),t},getImportUrl:function(){return"/online/cgform/api/importXls/"+this.code},initCgEnhanceJs:function initCgEnhanceJs(enhanceJs){if(enhanceJs){var Obj=eval("("+enhanceJs+")");this.EnhanceJS=new Obj(_api_manage__WEBPACK_IMPORTED_MODULE_14__["getAction"],_api_manage__WEBPACK_IMPORTED_MODULE_14__["postAction"],_api_manage__WEBPACK_IMPORTED_MODULE_14__["deleteAction"]),this.cgButtonJsHandler("created")}else this.EnhanceJS=""},initCgButtonList:function(e){var t=[],n=[];if(e&&e.length>0)for(var a=0;a<e.length;a++){var _=e[a];"button"==_.buttonStyle?n.push(_):"link"==_.buttonStyle&&t.push(_)}this.cgButtonLinkList=[].concat(t),this.cgButtonList=[].concat(n)},cgButtonJsHandler:function(e){this.EnhanceJS[e]&&this.EnhanceJS[e](this)},cgButtonActionHandler:function(e){var t=this;if(!this.table.selectedRowKeys||0==this.table.selectedRowKeys.length)return this.$message.warning("请先选中一条记录"),!1;if(this.table.selectedRowKeys.length>1)return this.$message.warning("请只选中一条记录"),!1;var n={formId:this.code,buttonCode:e,dataId:this.table.selectedRowKeys[0]};console.log("自定义按钮请求后台参数：",n),_api_manage__WEBPACK_IMPORTED_MODULE_14__["postAction"](this.url.buttonAction,n).then((function(e){e.success?(t.loadData(),t.$message.success("处理完成!")):t.$message.warning("处理失败!")}))},cgButtonLinkHandler:function(e,t,n){var a=this;if("js"==n)this.EnhanceJS[t]&&this.EnhanceJS[t](this,e);else if("action"==n){var _={formId:this.code,buttonCode:t,dataId:e.id};console.log("自定义按钮link请求后台参数：",_),_api_manage__WEBPACK_IMPORTED_MODULE_14__["postAction"](this.url.buttonAction,_).then((function(e){e.success?(a.loadData(),a.$message.success("处理完成!")):a.$message.warning("处理失败!")}))}},initButtonSwitch:function(e){var t=this;e&&e.length>0&&Object.keys(this.buttonSwitch).forEach((function(n){e.indexOf(n)>=0&&(t.buttonSwitch[n]=!1)}))}}}}}]);